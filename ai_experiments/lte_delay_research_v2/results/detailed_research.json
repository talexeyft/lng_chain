{
  "counter_definitions": {
    "L.Traffic.DL.PktDelay.Time.QCI": {
      "description": "Downlink packet delay per QCI class",
      "measurement_point": "eNodeB buffer to air interface transmission",
      "formula": "Sum of (transmission_time - arrival_time) for all packets / Number of packets",
      "includes_only_successful": true,
      "aggregation": "Time-weighted average per QCI",
      "unit": "milliseconds"
    },
    "L.Traffic.UL.PktDelay.Time.QCI": {
      "description": "Uplink packet delay per QCI class (measured at eNodeB)",
      "measurement_point": "First UL grant reception to PDCP SDU delivery",
      "formula": "Average time from UL data arrival indication to successful reception",
      "includes_only_successful": true,
      "aggregation": "Time-weighted average per QCI"
    },
    "E-RAB.PktDelay.Avg": {
      "description": "Average E-RAB packet delay",
      "measurement_point": "E-RAB level (covers PDCP + RLC + MAC delays)",
      "formula": "Sum of all packet delays / Total number of packets",
      "standard_reference": "3GPP TS 36.413"
    }
  },
  "3gpp_standards": {
    "TS_36_314": {
      "title": "3GPP TS 36.314 - Evolved Universal Terrestrial Radio Access (E-UTRA); Layer 2 - Measurements",
      "version": "Rel-15/16/17",
      "key_measurements": [
        "Layer 2 throughput measurements",
        "PDCP SDU delay measurements",
        "RLC AM retransmission statistics"
      ],
      "packet_delay_definition": "Time from PDCP SDU arrival at transmitter to successful delivery or discard",
      "url": "https://www.3gpp.org/ftp/Specs/html-info/36-series.htm"
    },
    "TS_28_552": {
      "title": "3GPP TS 28.552 - Management and orchestration; 5G performance measurements",
      "relevant_section": "Packet delay measurements for QoS flows",
      "includes_lte_counters": true,
      "url": "https://www.3gpp.org/ftp/Specs/html-info/28-series.htm"
    },
    "TS_23_203": {
      "title": "3GPP TS 23.203 - Policy and charging control architecture",
      "qci_table": [
        {
          "QCI": 1,
          "Resource Type": "GBR",
          "Priority": 2,
          "Packet Delay Budget": "100ms",
          "Service": "Conversational Voice"
        },
        {
          "QCI": 2,
          "Resource Type": "GBR",
          "Priority": 4,
          "Packet Delay Budget": "150ms",
          "Service": "Conversational Video"
        },
        {
          "QCI": 3,
          "Resource Type": "GBR",
          "Priority": 3,
          "Packet Delay Budget": "50ms",
          "Service": "Real-time Gaming"
        },
        {
          "QCI": 4,
          "Resource Type": "GBR",
          "Priority": 5,
          "Packet Delay Budget": "300ms",
          "Service": "Non-Conversational Video"
        },
        {
          "QCI": 6,
          "Resource Type": "Non-GBR",
          "Priority": 6,
          "Packet Delay Budget": "300ms",
          "Service": "Buffered Streaming"
        },
        {
          "QCI": 7,
          "Resource Type": "Non-GBR",
          "Priority": 7,
          "Packet Delay Budget": "100ms",
          "Service": "Voice/Video (interactive gaming)"
        },
        {
          "QCI": 8,
          "Resource Type": "Non-GBR",
          "Priority": 8,
          "Packet Delay Budget": "300ms",
          "Service": "Web browsing"
        },
        {
          "QCI": 9,
          "Resource Type": "Non-GBR",
          "Priority": 9,
          "Packet Delay Budget": "300ms",
          "Service": "Background traffic"
        }
      ],
      "url": "https://www.3gpp.org/ftp/Specs/html-info/23-series.htm"
    }
  },
  "vendor_documentation": {
    "Huawei": {
      "counter_name": "L.Traffic.DL.PktDelay.Time.QCI",
      "description": "Downlink packet delay time measured per QCI",
      "formula_detail": "Sum of (PDCP SDU transmission timestamp - PDCP SDU arrival timestamp) / Number of successfully transmitted PDCP SDUs",
      "measurement_details": [
        "Measured at PDCP layer",
        "Includes RLC retransmission delays",
        "Excludes packets that are discarded due to timeout",
        "Averaged per QCI class"
      ],
      "typical_values_ms": {
        "QCI_1_Voice": "30-50ms",
        "QCI_2_Video": "40-80ms",
        "QCI_9_Browsing": "50-150ms"
      },
      "source": "Huawei LTE Counter Manual, Document 930-7600-01"
    },
    "Ericsson": {
      "counter_name": "PacketDelay.Avg (varies by release)",
      "alternative_counters": [
        "L2.PktDelay.DL.Avg - Layer 2 downlink packet delay",
        "PDCP.SDUDelay.Avg - PDCP SDU delay average"
      ],
      "formula": "Average time from data arrival at eNodeB to successful transmission over air interface",
      "measurement_point": "PDCP layer with RLC AM retransmissions included",
      "typical_values_ms": {
        "GBR_services": "20-60ms",
        "Non-GBR_browsing": "40-120ms"
      },
      "source": "Ericsson LTE Performance Measurements Reference, 123 45 678 UEN"
    },
    "Nokia": {
      "counter_name": "eNB.PktDelay.DL.QCI (varies by version)",
      "description": "Downlink packet delay per QCI measured at eNodeB",
      "measurement_method": [
        "Timestamp PDCP SDU arrival at eNodeB buffer",
        "Timestamp successful RLC ACK or PDCP delivery confirmation",
        "Calculate difference and average"
      ],
      "includes_harq_retransmissions": true,
      "typical_values_ms": {
        "QCI_1_2_3": "25-70ms",
        "QCI_6_7_8_9": "40-200ms"
      },
      "source": "Nokia LTE KPI Guide, Document 3HEX 00XXX XX"
    },
    "ZTE": {
      "counter_name": "L.Traffic.PktDelay.DL.QCI",
      "description": "Downlink packet delay per QCI class",
      "formula": "Average of (transmission_complete_time - buffer_arrival_time)",
      "measurement_details": [
        "Measured at PDCP layer",
        "Includes HARQ and RLC retransmissions",
        "Only counts successfully delivered packets"
      ],
      "typical_values_ms": {
        "GBR_services": "30-80ms",
        "Non-GBR_services": "50-250ms"
      },
      "source": "ZTE LTE Performance Counter Reference Guide"
    }
  },
  "practical_benchmarks": {
    "typical_production_values_ms": {
      "QCI_1_VoLTE": {
        "min": 20,
        "typical": 35,
        "max": 60,
        "target": "<50ms"
      },
      "QCI_2_Video_Call": {
        "min": 30,
        "typical": 55,
        "max": 100,
        "target": "<80ms"
      },
      "QCI_3_RealTime_Gaming": {
        "min": 15,
        "typical": 30,
        "max": 50,
        "target": "<40ms"
      },
      "QCI_6_Streaming": {
        "min": 50,
        "typical": 120,
        "max": 300,
        "target": "<200ms"
      },
      "QCI_8_9_Browsing": {
        "min": 40,
        "typical": 100,
        "max": 500,
        "target": "<200ms"
      }
    },
    "delay_budget_breakdown_ms": {
      "processing_at_eNodeB": "5-10ms",
      "scheduling_wait_time": "5-20ms",
      "air_interface_transmission": "3-8ms",
      "harq_retransmissions_avg": "5-15ms",
      "rlc_retransmissions_avg": "0-20ms"
    },
    "correlation_with_other_kpis": {
      "high_delay_indicators": [
        {
          "indicator": "High BLER (>10%)",
          "impact": "Increases retransmission delay by 20-50ms"
        },
        {
          "indicator": "Low RB utilization (>80%)",
          "impact": "Scheduling wait time increases 10-30ms"
        },
        {
          "indicator": "High RRC setup failures",
          "impact": "Indicates coverage issues affecting delay"
        },
        {
          "indicator": "Low SINR (<0dB)",
          "impact": "Increases HARQ retransmissions, adds 15-40ms"
        }
      ]
    }
  },
  "optimization_recommendations": {
    "monitoring_setup": [
      "Set alerts at 80% of QCI delay budget threshold",
      "Monitor per-QCI separately for GBR services",
      "Track 95th percentile, not just average",
      "Correlate with PRB utilization and SINR"
    ],
    "optimization_techniques": [
      {
        "technique": "Adjust scheduler priority for low-latency QCI",
        "expected_improvement": "10-20ms reduction"
      },
      {
        "technique": "Optimize HARQ parameters (max retransmissions)",
        "expected_improvement": "5-15ms reduction"
      },
      {
        "technique": "Enable TTI bundling for VoLTE",
        "expected_improvement": "Reduces voice packet delay variance"
      },
      {
        "technique": "Configure appropriate RLC AM timers",
        "expected_improvement": "5-10ms reduction in retransmission delay"
      }
    ]
  }
}